NAME	=	harlFilter
CC		=	c++
FLAGS	=	-Wall -Werror -Wextra -std=c++98

SRCS	=	main.cpp Harl.cpp

CYAN	=	\033[1;96m
GREEN	=	\033[1;92m
RED		=	\033[1;91m
NC		=	\033[0m

OBJS	=	$(addprefix $(OBJ_DIR)/, $(notdir $(SRCS:.cpp=.o)))
OBJ_DIR	=	objs

all:
	@if $(MAKE) -q ${NAME} 2>/dev/null; then \
		echo "${GREEN}âœ… ${NAME} already compiled!${NC}"; \
	else \
		$(MAKE) ${NAME} --no-print-directory; \
	fi

${NAME}: ${OBJS}
	@$(CC) $(OBJS) -o $(NAME)
	@echo "${CYAN}$(NAME) compiled successfully!${NC}"

$(OBJ_DIR)/%.o:%.cpp
	@mkdir -p $(OBJ_DIR)
	@${CC} ${FLAGS} -o $@ -c $<


clean:
	@rm -rf ${OBJS}
	@echo "${RED}Object files cleaned!${NC}"

fclean:	clean
	@rm -rf ${NAME}
	@echo "${RED}All files cleaned!${NC}"

re: fclean all

.PHONY: all clean fclean re